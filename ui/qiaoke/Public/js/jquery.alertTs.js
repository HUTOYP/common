!function(e,t){"use strict";function o(o,n){function l(){if(!b)return this;if(!b.helper.is(":hidden")){var o=3,i=b.helper.offset().left,n=b.helper.offset().top;switch(b.options.face){case"top":o>n&&b.options.callback.iswindowBorder.call(b,"top","bottom"),b.helper.offset().left+b.helper.outerWidth()+o>e(t).width()&&p(i);break;case"right":b.helper.offset().left+b.helper.outerWidth()+o>e(t).width()&&b.options.callback.iswindowBorder.call(b,"right","left");break;case"bottom":n+b.helper.outerHeight()+o>e(t).height()&&b.options.callback.iswindowBorder.call(b,"bottom","top");break;case"left":b.helper.offset().left<o&&b.options.callback.iswindowBorder.call(b,"left","right")}}}function p(o){if(!b)return this;var i=3,n=e(t).width()-(o+b.helper.outerWidth()+i);b.helper.css({left:o+n}),b.arrow&&b.arrow.css({left:b.alocLeft-n+"px"})}function d(){return b?void(b.element&&(b.element.is(":visible")&&b.visible?b.helper.show():b.element.is(":hidden")&&b.helper.hide())):this}var h,f=this,u=this,b=this;this.defaults=c,this._name=s,f.element=o,f.helper=null,f.wrap=null,u.options=e.extend(!0,{},c,n),u.closex=null,u.arrow=null,u.$content=null,u.index=0,u.alocLeft=null,u.visible=!1,u.timeout=null,u.left=b.options.left,u.top=b.options.top,f.face=function(e){function t(e){return-parseInt(e)}return b?("left"==b.options.face&&"right"==e||"right"==b.options.face&&"left"==e?b.left=t(b.left):("top"==b.options.face&&"bottom"==e||"bottom"==b.options.face&&"top"==e)&&(b.top=t(b.top)),b.options.face=e,"mouseMove"==b.options.act?b.resize.reArrow().resize.reXY():b.resize.reArrow().resize.reTag(),b):this},f.loading=function(e){return b?void("show"==e?(b.$loading.show(),b.resize.reLoading()):b.$loading.hide()):this},f.content=function(e){return b?(b.$content.html(e),b.resize.reWidth(),b):this},f.zindex=function(e){return b?e?(b.helper.css("z-index",e),b):b.helper.css("z-index"):this},f.css=function(t){return b?(e.extend(b.options.css,t||{}),b.helper.css(b.options.css),b.resize.reArrow().resize.reWidth(),b):this},f.show=function(e){if(!b)return this;if(b.visible)return b;switch(b.options.callback.show.call(b),b.visible=!0,/\brefresh\b/.test(e)||b.refresh("visibleOrHidden"),b.options.effect){case"fade":b.helper.show().stop().css("opacity",0).animate({opacity:1},b.options.aniSpeed,function(){b.helper.css("opacity","")});break;case"fadeMove":var t,o=15;switch(b.stop().helper.show(),b.options.face){case"top":t=parseInt(b.helper.css("top")),b.helper.stop().css({top:t-o,opacity:0}).animate({opacity:1,top:t},b.options.aniSpeed,function(){b.helper.css("opacity",""),b.play()});break;case"right":t=parseInt(b.helper.css("left")),b.helper.stop().css({left:t+o,opacity:0}).animate({opacity:1,left:t},b.options.aniSpeed,function(){b.helper.css("opacity",""),b.play()});break;case"bottom":t=parseInt(b.helper.css("top")),b.helper.stop().css({top:t+o,opacity:0}).animate({opacity:1,top:t},b.options.aniSpeed,function(){b.helper.css("opacity",""),b.play()});break;case"left":t=parseInt(b.helper.css("left")),b.helper.stop().css({left:t-o,opacity:0}).animate({opacity:1,left:t},b.options.aniSpeed,function(){b.helper.css("opacity",""),b.play()})}break;default:b.helper.show()}return b},f.hide=function(){if(!b)return this;switch(b.visible=!1,b.options.effect){case"fade":b.helper.stop().animate({opacity:0},b.options.aniSpeed/1.8,function(){b.helper.hide(),b.options.callback.hide.call(b)});break;case"fadeMove":b.helper.stop().animate({opacity:0},b.options.aniSpeed/1.8,function(){b.helper.hide(),b.options.callback.hide.call(b)});break;default:b.helper.hide(),b.options.callback.hide.call(b)}return b},h=null,f.removeTag=function(){return b?(h&&b.stop(),b.options.position||b.helper.unwrap(),b.helper.stop().remove(),r.remove(b),void(b=null)):this},f.play=function(){return b?void(!h&&b&&b.options.position&&(h=setInterval(function(){b&&b.refresh("reWidth,reArrow")},300))):this},f.stop=function(){return b?(h&&(clearInterval(h),h=null),b):this},f.refresh=function(e){return b?b.element.data("plugin_"+s)?(/\breWidth\b/.test(e)||b.resize.reWidth(),/\breArrow\b/.test(e)||b.resize.reArrow(),/\breTag\b/.test(e)||b.resize.reTag(),/\bvisibleOrHidden\b/.test(e)||d(),b):(b.removeTag(),!1):this},f.refreshAll=function(){return b?(r.resizeAll(),b):this},f.hideAll=function(){return b?(r.hideAll(),b):this},u.init=function(){return b?(b.createElement.init(),b.resize.reTag(),void b.options.callback.init.call(this)):this},u.createElement={init:function(){this.createCss(),b.options.position?this.createBox():this.createBoxForTag(),r.addto(b),b.resize.reWidth(),b.options.aSize&&this.createArrow(),b.options.close&&this.createClose(),b.options.position&&b.play(),b.options.loading&&this.createLoading(),b.helper.data("plugin_"+s,b)},createBox:function(){b&&(b.helper||(b.helper=e("<div class='"+a+"-k'></div>").css(b.options.css).css({"z-index":b.options.zIndex}).appendTo("body"),b.$content=e("<div>"+b.options.content+"</div>").appendTo(b.helper)))},createBoxForTag:function(){b&&(b.helper||(b.warp=b.element.wrap(e("<div class='"+a+"-wrap'>")).parent(),b.helper=e("<div class='"+a+"-k'></div>").css(b.options.css).css({"z-index":b.options.zIndex}).appendTo(b.warp),b.$content=e("<span>"+b.options.content+"</span>").appendTo(b.helper)))},createClose:function(){b&&(b.closex||(b.closex=e("<span class='js-close'>×</span>").appendTo(b.helper).css({"font-size":b.options.css.closeSize}),b.closex.bind("click."+s,function(){b.hide()})))},createArrow:function(){b&&(b.arrow||!b.options.aSize||b.options.aSize<=2||e.isEmptyObject(b.options.css)||(b.arrow=e("<div class='"+a+"-arrow'><i></i><i class='"+a+"-a1'></i></div>").appendTo(b.helper),b.resize.reArrow()))},createLoading:function(){b&&(b.$loading||(b.$loading=e("<div class='"+a+"-loading'>").appendTo(b.helper),1==b.options.loading?b.$loading.html("加载中..."):b.options.loading.search(".gif")>-1?b.$loading.css("background-image","url("+b.options.loading+")"):b.$loading.html(b.options.loading)))},createCss:function(){if(!(e("style[data-title="+a+"-style]").length>0)){var t=(b.options.css,"."+a+"-k{ position:absolute; display:none; min-width:"+parseInt(b.options.minWidth)+"px; min-height:"+parseInt(b.options.minHeight)+"px}."+a+"-wrap{ position:relative; display:inline-block; *display:inline *zoom:1}."+a+"-k .js-close{ font-family:Verdana; position:absolute; z-index:3; top:-5px; right:2px; cursor:pointer}."+a+"-arrow{position:absolute}."+a+"-arrow i{display:block; border-style:solid; width:0px; height:0px; overflow:hidden; position:relative; _position:absolute; z-index:2}."+a+"-arrow ."+a+"-a1{position:absolute; z-index:1;}."+a+"-loading{position:absolute; left:50%; top:50%; width:130px; text-align:center; padding:30px 0px; background-position:center center; background-repeat:no-repeat; display:none}");e("head").append("<style data-title='"+a+"-style'>"+t+"</style>")}}},u.resize={reWidth:function(){if(!b)return this;b.helper.width("auto").height("auto");var e=b.helper.innerWidth()-parseInt(b.helper.css("padding-left"))-parseInt(b.helper.css("padding-right"));switch(b.options.width){case"auto":break;case"limit":b.helper.width(e);break;default:b.helper.width("string"==typeof b.options.width&&b.options.width.search("add")>-1?e+parseInt(b.options.width):b.options.width)}return b.options.height&&"auto"!==b.options.height&&b.helper.height(b.options.height),b},reTag:function(){if(!b)return this;if(b.element){var e=0,t=0,o=0,i=parseInt(b.options.aSize);switch(b.options.position?(t=b.element.offset().left,o=b.element.offset().top):(t=parseInt(b.element.css("margin-left")),o=parseInt(b.element.css("margin-top"))),b.options.face){case"top":t=t+b.left-b.alocLeft+i,o=o-b.helper.outerHeight()+parseInt(b.top)-i-e;break;case"right":t=t+b.element.outerWidth()+i+b.left+e,o=o+parseInt(b.top)-b.alocLeft+i;break;case"bottom":t=t+b.left-b.alocLeft+i,o=o+b.element.outerHeight()+parseInt(b.top)+i+e;break;case"left":t=t-b.helper.outerWidth()-i+b.left-e,o=o+parseInt(b.top)-b.alocLeft+i}return b.helper.css({left:t,top:o}),b.options.callback.iswindowBorder&&l(),b}},reXY:function(e,t){if(!b)return this;var o=parseInt(b.options.aSize);switch(b.options.face){case"top":e=e-b.left+o,t=t-b.helper.outerHeight()+b.top-2*o;break;case"right":e=e+2*o+10+parseInt(b.options.left),t=t-b.alocLeft+parseInt(b.options.top);break;case"bottom":e=e-parseInt(b.left)+o,t=t+2*o+10+parseInt(b.top);break;case"left":e=e-b.helper.outerWidth()-2*o+parseInt(b.options.left),t=t-b.alocLeft+o/2+parseInt(b.options.top)}return b.helper.css({left:e,top:t}),b.options.callback.iswindowBorder&&l(),b},reArrow:function(){if(!b)return this;if(!b.arrow)return b;b.arrow.removeAttr("style"),b.left=b.options.left,b.top=b.options.top;var e=b.options.face,t=parseInt(b.options.aSize),o=b.arrow.find("i:eq(0)").removeAttr("style"),n=b.arrow.find("i:eq(1)").removeAttr("style"),r=parseInt(b.helper.css("borderLeftWidth"));switch(b.options.aLoc){case"left":b.alocLeft=("top"==e||"bottom"==e)&&5||3;break;case"center":"top"==e||"bottom"==e?(b.alocLeft=b.helper.innerWidth()/2-t,b.left="mouseMove"==b.options.act?b.helper.innerWidth()/2-2*t+parseInt(b.options.left):b.element.innerWidth()/2-2*t+parseInt(b.options.left)):(b.alocLeft=b.helper.innerHeight()/2-t,b.top=b.element.innerHeight()/2-2*t+parseInt(b.options.top));break;case"right":"top"==e||"bottom"==e?(b.alocLeft=b.helper.innerWidth()-2*t-5,b.left=b.element.innerWidth()-2*t-5-parseInt(b.options.left)):(b.alocLeft=b.helper.innerHeight()-t-5,b.top=b.element.innerHeight()-2*t-5-parseInt(b.options.top));break;case"auto":b.alocLeft=("top"==e||"bottom"==e)&&5||3;break;default:b.alocLeft=parseInt(b.options.aLoc)}switch(e){case"top":b.arrow.css({bottom:-(2*t),left:b.alocLeft,height:2*t+r}),o.css({"border-color":b.helper.css("background-color")+" transparent transparent transparent"}),n.css({top:r,"border-color":b.helper.css("borderLeftColor")+" transparent transparent transparent"}),i()&&o.add(n).css({"border-style":"solid dashed dashed dashed"});break;case"right":b.arrow.css({left:-(2*t),top:b.alocLeft}),o.css({"border-color":"transparent "+b.helper.css("background-color")+" transparent transparent"}),n.css({top:0,left:-r,"border-color":"transparent "+b.helper.css("borderLeftColor")+" transparent transparent"}),i()&&o.add(n).css({"border-style":"dashed solid dashed dashed"});break;case"bottom":b.arrow.css({top:-(2*t),left:b.alocLeft}),o.css({"border-color":"transparent transparent "+b.helper.css("background-color")+" transparent"}),n.css({top:-r,"border-color":"transparent transparent "+b.helper.css("borderLeftColor")+" transparent"}),i()&&o.add(n).css({"border-style":"dashed dashed solid dashed"});break;case"left":b.arrow.css({right:-(2*t),top:b.alocLeft}),o.css({"border-color":"transparent transparent transparent "+b.helper.css("background-color")}),n.css({top:0,right:-r,"border-color":"transparent transparent transparent "+b.helper.css("borderLeftColor")}),i()&&(o.add(n).css({"border-style":"dashed dashed dashed solid"}),b.arrow.css({right:-(2*parseInt(b.options.aSize)),top:b.alocLeft}),o.css({top:0,right:1}))}return o.add(n).css({"border-width":t}),b},reLoading:function(){return b?void b.$loading.css({"margin-left":-b.$loading.innerWidth()/2,"margin-top":-b.$loading.innerHeight()/2}):this}},this.init()}function i(){return"6"==(/msie\s*(\d+)\.\d+/g.exec(navigator.userAgent.toLowerCase())||[0,"0"])[1]}function n(){var t=0,o=0;return e.each(r.A,function(e,i){o=parseInt(i.zindex()),o>t&&(t=o)}),0==t&&(t=c.zIndex),t}var r,s="alertTs",a="alertBox-js",l=t.document,c={face:"top",left:0,top:0,act:"",aSize:6,aLoc:"auto",effect:"",aniSpeed:400,zIndex:999,close:!1,show:!0,content:"请添加内容",loading:null,position:!1,width:"auto",minWidth:50,height:null,minHeight:20,delay:300,css:null,timeout:null,callback:{init:function(){},show:function(){},hide:function(){},iswindowBorder:null}},p={red:{"border-width":"1px","border-color":"#ffd999","border-style":"solid","border-radius":"4px","background-color":"#fff7e9","box-shadow":"1px 1px 2px rgba(0,0,0,0.1)",color:"#e75c00",padding:"3px 10px","font-size":"12px","line-height":"20px",closeColor:"#cc0000",closeSize:"12px"},yellow:{"border-width":"1px","border-color":"#cbccc4","border-style":"solid","border-radius":"4px","background-color":"#ffffe3","box-shadow":"1px 1px 2px rgba(0,0,0,0.1)",color:"#354674",padding:"3px 10px","font-size":"12px","line-height":"20px",closeColor:"#cc0000",closeSize:"12px"},none:{}};c.css=p.red,r={A:[],_timer:null,addto:function(e){return e?(this.A.push(e),void(e.index=this.A.length-1)):this},remove:function(e){return e?void this.A.splice(e.index,1):this},autoAll:function(){return self?void(this._timer||(this._timer=setInterval(e.proxy(this.resizeAll,r),300))):this},stopAll:function(){return self?(clearInterval(this._timer),void(this._timer=null)):this},resizeAll:function(){return self?void e.each(this.A,function(e,t){t.refresh("refresh")}):this},hideAll:function(){return self?void e.each(this.A,function(e,t){t.hide()}):this}},e.fn[s]=function(t){var i,r,a;if(t=t||{},"string"!=typeof t)return a=e.extend(!0,{},t),t&&"mouseMove"==t.act&&(a.position=!0),t.cssStyle&&(a.css=t.css||{},a.css=e.extend({},p[t.cssStyle],t.css)),this.each(function(){var i,r,p,d,h;switch(!t.zIndex&&(a.zIndex=n()+1),a=e.extend({},c,a),i=e(this).data("plugin_"+s),r=e(this),p={},i&&i.destroy(),i=new o(r,a),r.data("plugin_"+s,i),r.attr("data-title")&&i.content(r.attr("data-title")),r.attr("data-face")&&i.face(r.attr("data-face")),i.destroy=function(){r.data("plugin_"+s)&&(i.timeout&&clearTimeout(i.timeout),!e.isEmptyObject(p)&&p[a.act](),r.removeData("plugin_"+s),i.removeTag())},a.act){case"click":e(this).bind("click."+s,function(){i.show()}),p[a.act]=function(){r.unbind("click."+s)};break;case"otherClick":e(this).bind("click."+s,function(){return i.show(),!1}),i.helper.click(function(e){e.stopPropagation()}),e(l).bind("click."+s+i.index,function(){i.hide()}),p[a.act]=function(){r.unbind("click."+s),e(l).unbind("click."+s+i.index)};break;case"hover":e(this).bind("mouseenter."+s,function(){d=setTimeout(function(){i.show()},a.delay)}),e(this).bind("mouseleave."+s,function(){clearTimeout(d),h=setTimeout(function(){i.hide()},1.5*a.delay)}),i.helper.hover(function(){clearTimeout(h)},function(){h=setTimeout(function(){i.hide()},a.delay)}),p[a.act]=function(){r.unbind("mouseenter."+s+" mouseleave."+s)};break;case"mouseMove":e(this).bind("mousemove."+s,function(e){i.resize.reXY(e.pageX,e.pageY)}),e(this).hover(function(e){i.stop().show("refresh").resize.reXY(e.pageX,e.pageY).resize.reArrow()},function(){i.hide()});break;default:a.show&&i.show()}a.timeout&&(i.timeout=setTimeout(function(){i.hide()},a.timeout))});switch(i=arguments,r=t,Array.prototype.shift.call(i),r){case"getClass":return e(this).data("plugin_"+s);default:return this.each(function(){var t=e(this).data("plugin_"+s);t&&t[r]&&t[r].apply(t,i)})}},e[s]={setup:function(t){e.extend(c,t)},hideAll:function(){r.hideAll()},resetzIndex:function(t,o,i){o=o||1,o=parseInt(t.length+o),t.each(function(){i&&i.call(e(this),--o),e(this).css("z-index",--o)})},parent:function(e){return e.closest("."+a+"-k").data("plugin_"+s)},error:function(t,o,i,n){var r={content:o,cssStyle:"red",callback:{}};i&&e.isPlainObject(i)?e.extend(!0,r,i):i&&"function"==typeof i&&(r.callback.show=i),n&&"function"==typeof n&&(r.callback.show=n),t[s](r)},title:function(t,o,i,n){var r={content:o,cssStyle:"yellow",callback:{}};i&&e.isPlainObject(i)?e.extend(!0,r,i):i&&"function"==typeof i&&(r.callback.show=i),n&&"function"==typeof n&&(r.callback.show=n),t[s](r)}}}(jQuery,window);